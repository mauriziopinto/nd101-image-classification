swagger: '2.0'
info:
  title: Chatbot 1.0
  description: >
   Chatbot shall channel conversations between the Chat Engagement layer and underlyig interactive agents where multiple agents shall exist.  An example of this is Chatbot, whereby an engagement platform like Genesys shall consume Chatbot in order to interact with an underlying chatbot framework such as IBM Watson.  Each northbound integration shall require development portal configuratoin which shall contain parameters neccessary for routing to and authenticating with  underlying bot framework APIs.
   
   - Routing to the correct interative agent / chatbot directly or via microservices
   
   - Authentication of the engagement layer platform
   
   - Traffic Management
   
   - Transform messages from underlying agents to consistent northbound message structure
   

  version: 1.0.0
host: apistagingref.developer.vodafone.com
schemes:
  - https
basePath: /v1/chatbot
produces:
  - application/vnd.vodafone.a42+json
securityDefinitions:
  apix_oauth:
    type: oauth2
    tokenUrl: 'https://apistagingref.developer.vodafone.com/oauth2/token'
    flow: application
    scopes:
      CHATBOT_ALL: >-
        Allows communication from the engagement platform
        
paths:
  /:
    get:
      operationId: home
      x-scope-CHATBOT_ALL: capabilities,conversation,endConversation,message
      summary: Returns the APIs home document.
      description: >-
        This operation returns the APIs home document. The home document shall
        be called as a first request to the API. It is providing hypermedia
        information about the available respources for the caller.
      parameters:
        - name: Accept
          in: header
          description: >-
            either "application/vnd.vodafone.a42+json" or a media type denoting
            "application/vnd.vodafone.a42+json".
          required: false
          type: string
          x-example: application/vnd.vodafone.a42+json
        - name: vf-trace-transaction-id
          in: header
          description: >-
            A unique transaction ID used for logging and end-to-end tracing. If
            none is provided, a new one is generated and returned.
          required: false
          type: string
          x-example: 57072d7e-92d4-11e7-abc4-cec278b6b50a
      tags:
        - HOME
      responses:
        '200':
          description: Returns the APIs home document
          schema:
            type: object
            items:
              $ref: '#/definitions/Home'
          headers:
            Content-Type:
              description: always "application/vnd.vodafone.a42+json"
              type: string
            vf-trace-transaction-id:
              description: >-
                A unique transaction ID. If provided, the same value is
                returned, elsewise a new transaction id is generated.
              type: string
            Cache-Control:
              description: to be picked from configuration.
              type: string
            Pragma:
              description: to be picked from configuration.
              type: string
            Date:
              description: set current date time.
              type: string
            Expires:
              description: set current date time.
              type: string
          examples:
            application/vnd.vodafone.a42+json:
              links:
                self:
                  href: 'https://{apix.endpoint}/v1/chatbot'
                'http://a42.vodafone.com/rels/v1/chatbot/capabilities/':
                  template: 'https://{apix.endpoint}/v1/chatbot/capabilities'
                  title: "Get the bot platforms supported API calls"
                  method: GET
                'http://a42.vodafone.com/rels/v1/chatbot/conversation':
                  template: 'https://{apix.endpoint}/v1/chatbot/conversation'
                  title: "Initialize or continue a conversation"
                  method: POST
                'http://a42.vodafone.com/rels/v1/chatbot/end-conversation':
                  template: 'https://{apix.endpoint}/v1/chatbot/conversation'
                  title: "End conversation"
                  method: PUT
                'http://a42.vodafone.com/rels/v1/chatbot/message':
                  template: 'https://{apix.endpoint}/v1/chatbot/message'
                  title: "Add message to a conversation"
                  method: POST

        '304':
          description: ETag is still valid and matches the provided If-None-Match
          headers:
            Content-Type:
              description: always "application/vnd.vodafone.a42+json"
              type: string
            vf-trace-transaction-id:
              description: >-
                A unique transaction ID, if provided, the same value is
                returned, elsewise .
              type: string
            Cache-Control:
              description: cache control header.
              type: string
            Expires:
              type: string
        '404':
          description: 'URI does not represent a recognised resource '
          schema:
            $ref: '#/definitions/HTTP_404_Error'
        '405':
          description: the request method is not supported by this  resource
          schema:
            $ref: '#/definitions/HTTP_405_Error'
        '406':
          description: 'The Accept header is invalid '
          schema:
            $ref: '#/definitions/HTTP_406_Error'
        '413':
          description: 'The  request payload exceeds a maximum size '
          schema:
            $ref: '#/definitions/HTTP_413_Error'
        '414':
          description: 'Request-URI is too long '
          schema:
            $ref: '#/definitions/HTTP_414_Error'
        '415':
          description: 'The value of the Content-Type header is invalid '
          schema:
            $ref: '#/definitions/HTTP_415_Error'
        '429':
          description: 'Api Quota limit reached '
          schema:
            $ref: '#/definitions/HTTP_429_Error'
        '500':
          description: >-
            The authorization server encountered an unexpected condition that
            prevented it fromfulfilling the request
          schema:
            $ref: '#/definitions/A42GenericError'
        default:
          description: >-
            APIX common error as described in
            https://confluence.sp.vodafone.com/display/AF/Common+Error+Codes
      security:
        - apix_oauth:
            - CHATBOT_ALL

########################################
### Resource - Capabilities
########################################

  /capabilities:
    get:
      operationId: capabilities
      summary: Provides the supported API calls for each available version for a particular customer, i.e. given the underlying bot platform.
      description: >-
        The use case is of relevant importance given that on particular markets, the bot service provider may not support the complete portfolio of conversational APIs. Example:- while text messages are typically supported by all bot platforms, rich media may not be. The options available may also be dependent on the channel the user is accessing from.

        If botName is present in the requst it returns the capabilities only for that identifier. Otherwise capabilities for all bots/versions are being returned that the user is registered for.
      parameters:
        - name: Accept
          in: header
          description: >-
            either "application/vnd.vodafone.a42+json" or a media type denoting
            "application/vnd.vodafone.a42+json".
          required: false
          type: string
          x-example: application/vnd.vodafone.a42+json
        - name: vf-trace-transaction-id
          in: header
          description: >-
            A unique transaction ID used for logging and end-to-end tracing. If
            none is provided, a new one is generated and returned.
          required: false
          type: string
          x-example: 57072d7e-92d4-11e7-abc4-cec278b6b50a
        - name: botName
          in: header
          description: Unique name which is used to identify the targetted chatbot. It is set during app registration for Chatbot API.
          required: false
          type: string
          x-example: IBM_BOT1
      tags:
        - Capabilities
########################################
### Resource - Capabilities Response
########################################
      responses:
        200:
          description: Returns capability information
          schema:
              $ref: '#/definitions/capabiltiesResponse'
          headers:
            Content-Type:
              description: always "application/vnd.vodafone.a42+json"
              type: string
            vf-trace-transaction-id:
              description: >-
                A unique transaction ID. If provided, the same value is
                returned, elsewise a new transaction id is generated.
              type: string
########################################
### Resource - Capabilities Erors
########################################
        '400':
          description: Bad Request
          schema:
            $ref: '#/definitions/HTTP_400_Error'
        '401':
          description: Unauthorized Request
          schema:
            $ref: '#/definitions/HTTP_401_Error'
        '404':
          description: 'URI does not represent a recognised resource '
          schema:
            $ref: '#/definitions/HTTP_404_Error'
        '405':
          description: the request method is not supported by this  resource
          schema:
            $ref: '#/definitions/HTTP_405_Error'
        '406':
          description: 'The Accept header is invalid '
          schema:
            $ref: '#/definitions/HTTP_406_Error'
        '413':
          description: 'The  request payload exceeds a maximum size '
          schema:
            $ref: '#/definitions/HTTP_413_Error'
        '414':
          description: 'Request-URI is too long '
          schema:
            $ref: '#/definitions/HTTP_414_Error'
        '415':
          description: 'The value of the Content-Type header is invalid '
          schema:
            $ref: '#/definitions/HTTP_415_Error'
        '429':
          description: 'Api Quota limit reached '
          schema:
            $ref: '#/definitions/HTTP_429_Error'
        '500':
          description: >-
            The authorization server encountered an unexpected condition that
            prevented it fromfulfilling the request
          schema:
            $ref: '#/definitions/A42GenericError'
        default:
          description: >-
            APIX common error as described in
            https://confluence.sp.vodafone.com/display/AF/Common+Error+Codes
########################################
### Resource - Capabilities Security
########################################
      security:
        - apix_oauth:
            - CHATBOT_ALL
########################################
### Resource - Conversation Request
########################################
  /conversation:
    post:
      operationId: conversation
      summary: Initialize conversation
      description: >-
        The conversation identifier should be used to exchange messages between the customer and the bot.  The request can be used as well to continue an existing conversation, in which case the conversation identifier should be provided.
      parameters:
        - name: Accept
          in: header
          description: >-
            either "application/vnd.vodafone.a42+json" or a media type denoting
            "application/vnd.vodafone.a42+json".
          required: false
          type: string
          x-example: application/vnd.vodafone.a42+json
        - name: vf-trace-transaction-id
          in: header
          description: >-
            A unique transaction ID used for logging and end-to-end tracing. If
            none is provided, a new one is generated and returned.
          required: false
          type: string
          x-example: 57072d7e-92d4-11e7-abc4-cec278b6b50a
        - name: Content-Type
          in: header
          description: >-
            application/vnd.vodafone.a42+json or a media type that can be cased
            into application/vnd.vodafone.a42+json (like application/json).
          required: true
          type: string
          x-example: application/vnd.vodafone.a42+json
        - name: botName
          in: header
          description: Unique name which is used to identify the targetted chatbot. It is set during app registration for Chatbot API.
          required: false
          type: string
          x-example: IBM_BOT1
        - name: body
          in: body
          required: false
          schema:
            $ref: '#/definitions/ConversationRequest'
      tags:
        - Conversation
########################################
### Resource - Conversation Response
########################################
      responses:
        200:
          description: Returns conversation information
          schema:
              $ref: '#/definitions/ConversationResponse'
          headers:
            Content-Type:
              description: always "application/vnd.vodafone.a42+json"
              type: string
            vf-trace-transaction-id:
              description: >-
                A unique transaction ID. If provided, the same value is
                returned, elsewise a new transaction id is generated.
              type: string
########################################
### Resource - Conversation Erors
########################################
        '400':
          description: Bad Request
          schema:
            $ref: '#/definitions/HTTP_400_Error'
        '401':
          description: Unauthorized Request
          schema:
            $ref: '#/definitions/HTTP_401_Error'
        '404':
          description: 'URI does not represent a recognised resource '
          schema:
            $ref: '#/definitions/HTTP_404_Error'
        '405':
          description: the request method is not supported by this  resource
          schema:
            $ref: '#/definitions/HTTP_405_Error'
        '406':
          description: 'The Accept header is invalid '
          schema:
            $ref: '#/definitions/HTTP_406_Error'
        '413':
          description: 'The  request payload exceeds a maximum size '
          schema:
            $ref: '#/definitions/HTTP_413_Error'
        '414':
          description: 'Request-URI is too long '
          schema:
            $ref: '#/definitions/HTTP_414_Error'
        '415':
          description: 'The value of the Content-Type header is invalid '
          schema:
            $ref: '#/definitions/HTTP_415_Error'
        '429':
          description: 'Api Quota limit reached '
          schema:
            $ref: '#/definitions/HTTP_429_Error'
        '500':
          description: >-
            The authorization server encountered an unexpected condition that
            prevented it fromfulfilling the request
          schema:
            $ref: '#/definitions/A42GenericError'
        default:
          description: >-
            APIX common error as described in
            https://confluence.sp.vodafone.com/display/AF/Common+Error+Codes
########################################
### Resource - Capabilities Security
########################################
      security:
        - apix_oauth:
            - CHATBOT_ALL
########################################
### Resource - end conversation
########################################
    put:
      operationId: endConversation
      summary: End conversation
      description: >-
        Request to indicate the end of the conversation
        
      parameters:
        - name: Accept
          in: header
          description: >-
            either "application/vnd.vodafone.a42+json" or a media type denoting
            "application/vnd.vodafone.a42+json".
          required: false
          type: string
          x-example: application/vnd.vodafone.a42+json
        - name: vf-trace-transaction-id
          in: header
          description: >-
            A unique transaction ID used for logging and end-to-end tracing. If
            none is provided, a new one is generated and returned.
          required: false
          type: string
          x-example: 57072d7e-92d4-11e7-abc4-cec278b6b50a
        - name: Content-Type
          in: header
          description: >-
            application/vnd.vodafone.a42+json or a media type that can be cased
            into application/vnd.vodafone.a42+json (like application/json).
          required: true
          type: string
          x-example: application/vnd.vodafone.a42+json
        - name: body
          in: body
          required: false
          schema:
            $ref: '#/definitions/EndConversationRequest'
      tags:
        - End
########################################
### Resource - end Response
########################################
      responses:
        200:
          description: Returns metadata to callback
          schema:
              $ref: '#/definitions/EndConversationResponse'
          headers:
            Content-Type:
              description: always "application/vnd.vodafone.a42+json"
              type: string
            vf-trace-transaction-id:
              description: >-
                A unique transaction ID. If provided, the same value is
                returned, elsewise a new transaction id is generated.
              type: string
        '400':
          description: Bad Request
          schema:
            $ref: '#/definitions/HTTP_400_Error'
        '401':
          description: Unauthorized Request
          schema:
            $ref: '#/definitions/HTTP_401_Error'
        '404':
          description: 'URI does not represent a recognised resource '
          schema:
            $ref: '#/definitions/HTTP_404_Error'
        '405':
          description: the request method is not supported by this  resource
          schema:
            $ref: '#/definitions/HTTP_405_Error'
        '406':
          description: 'The Accept header is invalid '
          schema:
            $ref: '#/definitions/HTTP_406_Error'
        '413':
          description: 'The  request payload exceeds a maximum size '
          schema:
            $ref: '#/definitions/HTTP_413_Error'
        '414':
          description: 'Request-URI is too long '
          schema:
            $ref: '#/definitions/HTTP_414_Error'
        '415':
          description: 'The value of the Content-Type header is invalid '
          schema:
            $ref: '#/definitions/HTTP_415_Error'
        '429':
          description: 'Api Quota limit reached '
          schema:
            $ref: '#/definitions/HTTP_429_Error'
        '500':
          description: >-
            The authorization server encountered an unexpected condition that
            prevented it fromfulfilling the request
          schema:
            $ref: '#/definitions/A42GenericError'
        default:
          description: >-
            APIX common error as described in
            https://confluence.sp.vodafone.com/display/AF/Common+Error+Codes
########################################
### Resource - end Security
########################################
      security:
        - apix_oauth:
            - CHATBOT_ALL
########################################
### Resource - message Request
########################################
  /message:
    post:
      operationId: message
      summary: Send a message to an interactive agent
      description: >-
        Allows the customer to send a message to the bot, in the conext of an existing conversation.
        
        Message can be exchanged in two manners
        
        -Synchronous communication - a query message is sent and its answer provided in the response of teh API call
        - Asynchronous communication - the API consumer provides a callbackUrl - (e.g. webhook) where asynchronous messages should be delivered to
        
      parameters:
        - name: Accept
          in: header
          description: >-
            either "application/vnd.vodafone.a42+json" or a media type denoting
            "application/vnd.vodafone.a42+json".
          required: false
          type: string
          x-example: application/vnd.vodafone.a42+json
        - name: vf-trace-transaction-id
          in: header
          description: >-
            A unique transaction ID used for logging and end-to-end tracing. If
            none is provided, a new one is generated and returned.
          required: false
          type: string
          x-example: 57072d7e-92d4-11e7-abc4-cec278b6b50a
        - name: Content-Type
          in: header
          description: >-
            application/vnd.vodafone.a42+json or a media type that can be cased
            into application/vnd.vodafone.a42+json (like application/json).
          required: true
          type: string
          x-example: application/vnd.vodafone.a42+json

        - name: body
          in: body
          required: false
          schema:
            $ref: '#/definitions/SendMessageRequest'
      tags:
        - Message
########################################
### Resource - messages Response
########################################
      responses:
        200:
          description: Returns message response
          schema:
              $ref: '#/definitions/SendMessageResponse'
          headers:
            Content-Type:
              description: always "application/vnd.vodafone.a42+json"
              type: string
            vf-trace-transaction-id:
              description: >-
                A unique transaction ID. If provided, the same value is
                returned, elsewise a new transaction id is generated.
              type: string
        '400':
          description: Bad Request
          schema:
            $ref: '#/definitions/HTTP_400_Error'
        '401':
          description: Unauthorized Request
          schema:
            $ref: '#/definitions/HTTP_401_Error'
        '404':
          description: 'URI does not represent a recognised resource '
          schema:
            $ref: '#/definitions/HTTP_404_Error'
        '405':
          description: the request method is not supported by this  resource
          schema:
            $ref: '#/definitions/HTTP_405_Error'
        '406':
          description: 'The Accept header is invalid '
          schema:
            $ref: '#/definitions/HTTP_406_Error'
        '413':
          description: 'The  request payload exceeds a maximum size '
          schema:
            $ref: '#/definitions/HTTP_413_Error'
        '414':
          description: 'Request-URI is too long '
          schema:
            $ref: '#/definitions/HTTP_414_Error'
        '415':
          description: 'The value of the Content-Type header is invalid '
          schema:
            $ref: '#/definitions/HTTP_415_Error'
        '429':
          description: 'Api Quota limit reached '
          schema:
            $ref: '#/definitions/HTTP_429_Error'
        '500':
          description: >-
            The authorization server encountered an unexpected condition that
            prevented it fromfulfilling the request
          schema:
            $ref: '#/definitions/A42GenericError'
        default:
          description: >-
            APIX common error as described in
            https://confluence.sp.vodafone.com/display/AF/Common+Error+Codes
########################################
### Resource - messages Security
########################################
      security:
        - apix_oauth:
            - CHATBOT_ALL

definitions:

########################################
###  Definitions - Wrappers
########################################

  capabiltiesResponse:
    type: object
    properties:
      links:
        type: object
        properties:
          self:
            $ref: '#/definitions/HRefLink'
      capabilites:
          $ref: '#/definitions/capabilities'

  EndConversationRequest:
    required:
      - conversation
      - from
    type: object
    description: End Conversation Request
    properties:
      conversation:
        type: object
        properties:
          identifier:
            $ref: '#/definitions/identifier'
      from:
        $ref: '#/definitions/from'
      metadata:
        $ref: '#/definitions/metaData'
  EndConversationResponse:
    type: object
    description: End Conversation Response
    properties:
      metadata:
        $ref: '#/definitions/metaData'
  

  ConversationRequest:
    required:
      - version
      - from
    type: object
    description: get Conversation Request
    properties:
      version:
        description: The version of the bot which the consumer want to access
        type: string
      conversation:
        type: object
        properties:
          identifier:
            $ref: '#/definitions/identifier'
      from:
        $ref: '#/definitions/from'
      messages:
        type: object
        description: object which represents timestamp and array of message objects.
        properties:
          timestamp:
            description: >-
              datetime specifying when the messages were sent (typically the
              date time of the first message).
            type: string
          message:
            type: array
            description: message
            items:
              $ref: '#/definitions/message'
      callbackUrl:
        description: Callback Url
        type: string
      metadata:
        $ref: '#/definitions/metaData'
  ConversationResponse:
    required:
      - conversation
    type: object
    description: conversation Response
    properties:
      conversation:
        type: object
        properties:
          identifier:
            $ref: '#/definitions/identifier'
      from:
        $ref: '#/definitions/from'
      messages:
        type: object
        description: object which represents timestamp and array of message objects.
        properties:
          timestamp:
            description: >-
              datetime specifying when the messages were sent (typically the
              date time of the first message).
            type: string
          message:
            type: array
            description: message
            items:
              $ref: '#/definitions/message'
      metadata:
        $ref: '#/definitions/metaData'
  SendMessageRequest:
    required:
      - conversation
      - from
      - messages
    type: object
    description: Send Message Request
    properties:
      conversation:
        type: object
        properties:
          identifier:
            $ref: '#/definitions/identifier'
      from:
        $ref: '#/definitions/from'
      messages:
        type: object
        description: object which represents timestamp and array of message objects.
        properties:
          timestamp:
            description: >-
              datetime specifying when the messages were sent (typically the
              date time of the first message).
            type: string
          message:
            type: array
            description: message
            items:
              $ref: '#/definitions/message'
      capabilities:
        $ref: '#/definitions/capabilities'
      metadata:
        $ref: '#/definitions/metaData'
  SendMessageResponse:
    required:
      - conversation
    type: object
    description: conversation Response
    properties:
      conversation:
        type: object
        properties:
          identifier:
            $ref: '#/definitions/identifier'
      from:
        $ref: '#/definitions/from'
      messages:
        type: object
        description: object which represents timestamp and array of message objects.
        properties:
          timestamp:
            description: >-
              datetime specifying when the messages were sent (typically the
              date time of the first message).
            type: string
          message:
            type: array
            description: message
            items:
              $ref: '#/definitions/message'
      metadata:
        $ref: '#/definitions/metaData'       
########################################
###  Definition - HOME
########################################
  Home:
    type: object
    properties:
      links:
        type: object
        properties:
          self:
            $ref: '#/definitions/HRefLink'
          'http://a42.vodafone.com/rels/chatbot/capabilities':
            $ref: '#/definitions/Link'
          'http://a42.vodafone.com/rels/chatbot/conversation':
            $ref: '#/definitions/Link'
          'http://a42.vodafone.com/rels/chatbot/message':
            $ref: '#/definitions/Link'
          'http://a42.vodafone.com/rels/chatbot/end-conversation':
            $ref: '#/definitions/Link'
  HRefLink:
    type: object
    properties:
      href:
        type: string
        description: URI
      method:
        type: string
        description: GET / POST /...
  Link:
    type: object
    properties:
      title:
        type: string
        description: URI description
      type:
        type: string
        description: Link type
      method:
        type: string
        description: HTTP Method
      href:
        type: string
        description: Link resource
      data:
        type: object
        description: Definition of the data expected to be provided when following the link

########################################
###  SCHEMAS
########################################
  metaData:
    type: object
    required:
      - channel
      - agentAvailable
      - agentHandover
      - agentHandoverReason
      - intents
      - userAgent
    properties:
      channel:
        type: string
        description: >-
          The channel being used by the customer, such as desktop, web, myvodafone, voice, rcs, facebook, twitter, skype, slack, alexa, gassistant and cortana.
      agentAvailable:
        type: boolean
        description: >-
          If true is used by the live chat platform to indicate to the chatbot, that live agents are available in case a handover is required
      agentHandover:
        type: boolean
        description: >-
          If true is used by the chatbot agent to indicate that a handover to a live agent is required.
      agentHandoverReason:
        type: string
        description: >-
          If agent_handover is true, then agent_handover_reason is used to indicate the reason why the handover is taking place
      intents:
        type: string
        description: >-
          Comma separated list of intents. If available it should be provided in every message and is required for the handover on the chat platform to identify a proper real agent. If the bot is capable of providing the confidence list must be ordered (start with most confident).
      userAgent:
        type: string
        description: >-
          The client userAgent

  capabilities:
    type: object
    properties:
      version:
        type: string
        description:  Just in get capabilities reponse. It identifies the underlying bot integration
      synchronousCommunication:
        type: boolean
      asynchronousCommunication:
        type: boolean
      chatHistory:
        type: boolean
      textPlain:
        type: boolean
      textHtml:
        type: boolean
      textMarkdown:
        type: boolean
      attachment:
        type: boolean
      location:
        type: boolean
      quickReplies:
        type: boolean
      calloutButton:
        type: boolean
      card:
        type: boolean
      eventTyping:
        type: boolean
      eventPause:
        type: boolean
      eventMessageRead:
        type: boolean
      eventNoInputExpected:
        type: boolean
      eventUrlAccessed:
        type: boolean
      sessionValidity:
        type: boolean

  from:
    type: object
    description: >-
      Description of the sender of a message
    properties:
      fromIdentifier:
        $ref: '#/definitions/identifier'
      avatar:
        type: string
        description: >-
          Avatar of the virtual agent. It can be the name of an image or animation to play and available on the chat platform or URL/link accessible by the recipient
      callbackUrl:
        type: string
        description: >-
          For conversations which are asynchronous, this callbackUrl specifies where response messages shall be delivered to 
        
  identifier:
    type: object
    description: >-
      Unique identifier for a user, the bot or a conversation
      parameters:
        id:
          type: string
            required: true
            description: >-
              Uniquely identifying the subject
        name:
          type: string
            required: false
            description: >-
              Providing a readable & user-friendly identification of the subject, such as the name of the user/bot or the title of the conversation

  message:
    type: object
    description: >-
      A message stereotype
      parameters: 
        timeStamp:
          type: dateTime
          description: >-
            Specifying when the message was sent
        order:
          type: cardinal
          description: >-
            Cardinal representing the appropriate order of this message within the messages object, in order to ensure proper sorting of messages (on client and/or bot side)
        content:
          type: object
          description: one of the following objects containing message content
          properties:
            textMessage:
              type: object
              description: on object containing text message in one of the below text forms
              properties:
                textPlain:
                  type: string
                  description: plain text in raw format
                textHtml:
                  type: string
                  description:  the content of the message in HTML 5.1 format
                textMarkdown:
                  type: string
                  description: the content of text in markdown format
            attachment:
              type: object 
              description: a file object representing a file being shared with the recipient
              properties:
                contentType:
                  type: string
                  description:  media type of the file as specified by IANA Media Types (typical examples are video, audio, image and document files)
                name: 
                  type: string
                  description: string acting as an identifier of the file
                url:
                  type: string
                  description: a link object pointing to the correspondent file
            location:
              type: string
              description: a geographical location using WSG84 coordinates using Decimal Degrees Format, such as for example "38.8897,-77.0089".
            quickReplies:
              type: array
              description: a list of text objects with the purpose of providing the recipient of the message a list of typical replies the sender is expecting.
              items:
                type: object
                properties:
                  textPlain:
                    type: string
                    description: raw text
                  textHtml:
                    type: string
                    description: the content of the message in HTML 5.1 format
                  textMarkdown:
                    type: string
                    description: the content of text in markdown format
            calloutButton:
              type: object
              description: an object containing the following items, with the intention of providing the recipient of the message a reference.
              properties:
                name:
                  type: string
                  description: name of the button.
                url:
                  type: string
                  description: a link object pointing to the target of the callout, typically the location of a resource in the www
            card:
              type: array
              description:  list of card objects, with the intention of presenting to the recipient a carousel of items, each of them containing one of below items.
              items:
                type: object
                title:
                  type: string
                  description: a text with the name of the card
                media:
                  type: object
                  properties:
                    cotentType: 
                      type: string
                      description: content type of the media file
                    name: 
                      type: string
                      description: identifier of the file
                    url:
                      type: string
                      description: link of the file
                description:
                  type: string
                  description: a text with the description of the card
            event:
              type: object
              description:  indicates to the recipient that a relevant event has taken place on the recipient; the following types and values are currently defined.
              properties:
                typing:
                  type: boolean
                  descriptipon: Indicates if the user and/or chatbot have started typing or stopped doing so.
                pause:
                  type: int
                  description: Indicates if there is a pause in ms before displaying the next message from the chatbot to the user.
                messageRead:
                  type: string
                  description: a date time Indicates that the message with the referenced timestamp has been read by the recipient.
                noInputExpected:
                  type: boolean
                  description: If true indicates to the recipient that no additional input is expected from him, e.g. allows client application on recipient side to fade out certain UI elements and avoid allowing the sending of new messages, e.g. when bot is processing complex message and/or performing a backend action.
                urlAccessed:
                  type: string
                  description: Indicates that the link has been accessed by the recipient, e.g. attachment, link or callout button provided by the sender has been accessed by the recipient
            
                  

########################################
###  Errors
########################################

  HTTP_400_Error:
    type: object
    required:
      - description
      - error
      - links
      - message
      - transactionId
    properties:
      links:
        $ref: '#/definitions/ErrorHelpLink'
      error:
        type: string
        example: Bad Request
      message:
        type: string
        example: Bad Request
      description:
        type: string
        example: Malformed Request
      transactionId:
        type: string
        example: 2f21-1fwef2-af2313-23feda
  HTTP_401_Error:
    type: object
    required:
      - description
      - error
      - links
      - message
      - transactionId
    properties:
      links:
        $ref: '#/definitions/ErrorHelpLink'
      error:
        type: string
        example: Unauthorized Request
      message:
        type: string
        example: Bad Request
      description:
        type: string
        example: Invalid authorization header
      transactionId:
        type: string
        example: 2f21-1fwef2-af2313-23feda
  HTTP_415_Error:
    type: object
    required:
      - description
      - error
      - links
      - message
      - transactionId
    properties:
      links:
        $ref: '#/definitions/ErrorHelpLink'
      error:
        type: string
        example: Unsupported Media Type
      message:
        type: string
        example: Unsupported Media Type
      description:
        type: string
        example: The value of the Content-Type header is invalid
      transactionId:
        type: string
        example: 2f21-1fwef2-af2313-23feda
  HTTP_405_Error:
    type: object
    required:
      - description
      - error
      - links
      - message
      - transactionId
    properties:
      links:
        $ref: '#/definitions/ErrorHelpLink'
      error:
        type: string
        example: Method Not Allowed
      message:
        type: string
        example: Method Not Allowed
      description:
        type: string
        example: the request method is not supported by this  resource
      transactionId:
        type: string
        example: 2f21-1fwef2-af2313-23feda
  HTTP_406_Error:
    type: object
    required:
      - description
      - error
      - links
      - message
      - transactionId
    properties:
      links:
        $ref: '#/definitions/ErrorHelpLink'
      error:
        type: string
        example: Not Acceptable
      message:
        type: string
        example: Not Acceptable
      description:
        type: string
        example: The Accept header is invalid
      transactionId:
        type: string
        example: 2f21-1fwef2-af2313-23feda
  HTTP_404_Error:
    type: object
    required:
      - description
      - error
      - links
      - message
      - transactionId
    properties:
      links:
        $ref: '#/definitions/ErrorHelpLink'
      error:
        type: string
        example: Resource Not Found
      message:
        type: string
        example: SDK_ID Not found
      description:
        type: string
        example: SDK_ID Not found
      transactionId:
        type: string
        example: 2f21-1fwef2-af2313-23feda
  HTTP_429_Error:
    type: object
    required:
      - description
      - error
      - links
      - message
      - transactionId
    properties:
      links:
        $ref: '#/definitions/ErrorHelpLink'
      error:
        type: string
        example: Too Many Requests
      message:
        type: string
        example: Too Many Requests
      description:
        type: string
        example: Api Quota limit reached
      transactionId:
        type: string
        example: 2f21-1fwef2-af2313-23feda
  HTTP_424_Error:
    type: object
    required:
      - description
      - error
      - links
      - message
      - transactionId
    properties:
      links:
        $ref: '#/definitions/ErrorHelpLink'
      error:
        type: string
        example: Failed dependency
      message:
        type: string
        example: Symmetric key expired
      description:
        type: string
        example: Symmetric key expired
      transactionId:
        type: string
        example: 2f21-1fwef2-af2313-23feda
  HTTP_414_Error:
    type: object
    required:
      - description
      - error
      - links
      - message
      - transactionId
    properties:
      links:
        $ref: '#/definitions/ErrorHelpLink'
      error:
        type: string
        example: Request URI Too Long
      message:
        type: string
        example: Request URI Too Long
      description:
        type: string
        example: Request-URI is too long
      transactionId:
        type: string
        example: 2f21-1fwef2-af2313-23feda
  A42Error:
    type: object
    required:
      - description
      - error
      - links
      - message
      - transactionId
    properties:
      links:
        $ref: '#/definitions/ErrorHelpLink'
      error:
        type: string
        example: invalid_request
      message:
        type: string
        example: invalid_request
      description:
        type: string
        example: missing mandatory query parameter in the request
      transactionId:
        type: string
        example: 2f21-1fwef2-af2313-23feda
  HTTP_413_Error:
    type: object
    required:
      - description
      - error
      - links
      - message
      - transactionId
    properties:
      links:
        $ref: '#/definitions/ErrorHelpLink'
      error:
        type: string
        example: Payload Too Large
      message:
        type: string
        example: Payload Too Large
      description:
        type: string
        example: The  request payload exceeds a maximum size
      transactionId:
        type: string
        example: 2f21-1fwef2-af2313-23feda
  ErrorHelpLink:
    type: object
    required:
      - href
    properties:
      href:
        type: string
        example: 'http://{dev_portal_domain}/{error_documentation_endpoint}'
        description: 'Help href link on Developer Portal '
  A42GenericError:
    type: object
    required:
      - description
      - error
      - links
      - message
      - transactionId
    properties:
      links:
        $ref: '#/definitions/ErrorHelpLink'
      error:
        type: string
        example: server_error
      message:
        type: string
        example: server_error
      description:
        type: string
        example: >-
          The authorization server encountered an unexpected condition that
          prevented it from fulfilling the request
      transactionId:
        type: string
        example: 2f21-1fwef2-af2313-23feda
  HTTP_422_Error:
    type: object
    required:
      - description
      - error
      - links
      - message
      - transactionId
    properties:
      links:
        $ref: '#/definitions/ErrorHelpLink'
      error:
        type: string
        example: Unprocessable Entity
      message:
        type: string
        example: Unprocessable Entity
      description:
        type: string
        example: >-
          The request was well-formed but was unable to be followed due to
          semantic errors
      transactionId:
        type: string
        example: 2f21-1fwef2-af2313-23feda
